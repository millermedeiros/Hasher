<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Hasher simple test</title>
		<script type="text/javascript" src="../../../dist/js/Hasher-0.9.8.js"></script>
		<style type="text/css">
			#logger{
				background-color:#eee; border:1px solid #ddd; margin: 20px 0;
			}
		</style>
    </head>
    <body>
        <div id="wrapper">
			<ul>
				<li><a href="#" onclick="Hasher.setHash('blah'); return false;">blah</a></li>
				<li><a href="#" onclick="Hasher.setHash('lorem ipsum'); return false;">lorem ipsum</a></li>
				<li><a href="#" onclick="Hasher.setHash('dolor'); return false;">dolor</a></li>
				<li><a href="#" onclick="Hasher.setHash('dolor sit amet'); return false;">dolor sit amet</a></li>
				<li><a href="#" onclick="Hasher.setHash('Spêçïãl/Chårs FTW'); return false;">Sp&ecirc;&ccedil;&iuml;&atilde;l/Ch&aring;rs FTW</a></li>
			</ul>
			<ul>
				<li><a href="javascript:Hasher.back();">Hasher.back()</a></li>
				<li><a href="javascript:Hasher.forward();">Hasher.forward()</a></li>
				<li><a href="javascript:Hasher.init();">Hasher.init()</a></li>
				<li><a href="javascript:Hasher.stop();">Hasher.stop()</a></li>
				<li><a href="javascript:Hasher.disableEvent(HasherEvent.CHANGE);">Hasher.disableEvent(HasherEvent.CHANGE)</a></li>
				<li><a href="javascript:Hasher.enableEvent(HasherEvent.CHANGE);">Hasher.enableEvent(HasherEvent.CHANGE)</a></li>
				<li><a href="javascript:log(Hasher.willDispatch(HasherEvent.CHANGE));">Hasher.willDispatch(HasherEvent.CHANGE)</a></li>
			</ul>
			<ul>
				<li><a href="javascript:clearLog();">clear log</a></li>
			</ul>
        </div>
		<div id="logger">&nbsp;</div>
		<script type="text/javascript">
			
			function log(rest){
				//if (typeof console != "object") {
					document.getElementById('logger').innerHTML += Array.prototype.join.call(arguments, ' , ') + '<br />';
				//}else{
				//	console.log(arguments);
				//}
			}
			
			function clearLog(){
				document.getElementById('logger').innerHTML = '';
			}
			
			function onChange(e){
				log('onChange:', Hasher.getHash(), Hasher.getHashAsArray());
			}
			
			function onChange2(e){
				log('onChange2:', e);
			}
			
			function onChange3(e){
				log('onChange3');
			}
			
			Hasher.addEventListener(HasherEvent.CHANGE, onChange);
			
			Hasher.addEventListener(HasherEvent.INIT, function(e){
			    log(e);
			});
			
			Hasher.init();
			
			//used to test multiple listeners to the same event
			Hasher.addEventListener(HasherEvent.CHANGE, onChange2);
			Hasher.addEventListener(HasherEvent.CHANGE, onChange3);
			
			Hasher.addEventListener(HasherEvent.STOP, function(e){
				log(e);
			});
		</script>
    </body>
</html>
