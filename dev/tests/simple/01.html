<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Hasher simple test</title>
		<script type="text/javascript" src="../../lib/js-signals/js-signals.js"></script>
		<script type="text/javascript" src="../../../dist/js/Hasher.js"></script>
		<style type="text/css">
			#logger{
				background-color:#eee; border:1px solid #ddd; margin: 20px 0;
			}
		</style>
    </head>
    <body>
        <div id="wrapper">
			<ul>
				<li><a href="#" onclick="hasher.setHash('blah'); return false;">blah</a></li>
				<li><a href="#" onclick="hasher.setHash('lorem ipsum'); return false;">lorem ipsum</a></li>
				<li><a href="#" onclick="hasher.setHash('dolor'); return false;">dolor</a></li>
				<li><a href="#" onclick="hasher.setHash('dolor sit amet'); return false;">dolor sit amet</a></li>
				<li><a href="#" onclick="hasher.setHash('Spêçïãl/Chårs FTW'); return false;">Sp&ecirc;&ccedil;&iuml;&atilde;l/Ch&aring;rs FTW</a></li>
			</ul>
			<ul>
				<li><a href="javascript:hasher.back();">hasher.back()</a></li>
				<li><a href="javascript:hasher.forward();">hasher.forward()</a></li>
				<li><a href="javascript:hasher.init();">hasher.init()</a></li>
				<li><a href="javascript:hasher.stop();">hasher.stop()</a></li>
				<li><a href="javascript:hasher.changed.disable();">hasher.changed.disable()</a></li>
				<li><a href="javascript:hasher.changed.enable();">hasher.changed.enable()</a></li>
				<li><a href="javascript:log(hasher.changed.isEnabled());">hasher.changed.isEnabled()</a></li>
			</ul>
			<ul>
				<li><a href="javascript:clearLog();">clear log</a></li>
			</ul>
        </div>
		<div id="logger">&nbsp;</div>
		<script type="text/javascript">
			
			function log(rest){
				//if (typeof console != "object") {
					document.getElementById('logger').innerHTML += Array.prototype.join.call(arguments, ' , ') + '<br />';
				//}else{
				//	console.log(arguments);
				//}
			}
			
			function clearLog(){
				document.getElementById('logger').innerHTML = '';
			}
			
			function onChange(a, b){
				log('onChange: '+ hasher.getHash() +' - ['+ hasher.getHashAsArray() +']');
			}
			
			function onChange2(a, b){
				log('onChange2: '+ a +' - '+ b);
			}
			
			function onChange3(a, b){
				log('onChange3');
			}
			
			hasher.changed.add(onChange);
			
			hasher.initialized.add(function(e){
			    log('initialized', e);
			});
			
			hasher.init();
			
			//used to test multiple listeners to the same event
			hasher.changed.add(onChange2);
			hasher.changed.add(onChange3);
			
			hasher.stopped.add(function(e){
				log('stopped', e);
			});
		</script>
    </body>
</html>
